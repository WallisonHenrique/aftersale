{"version":3,"sources":["store/Types.js","store/RestData.js","store/ActionCreators.js","store/GetterDataAPI.js","styles/themes/astronomicaldawn.js","styles/themes/nauticaldawn.js","styles/themes/civildawn.js","styles/themes/day.js","styles/themes/noon.js","styles/themes/night.js","styles/themes/astronomicaldusk.js","styles/themes/nauticaldusk.js","styles/themes/civildusk.js","styles/themes/sunset.js","utils/useTheme.js","components/Window/styles.js","components/Window/Window.js","components/Floor/styles.js","components/Floor/Floor.js","components/Building/styles.js","components/Building/Building.js","components/Sky/styles.js","components/Sky/Sky.js","components/Lightswitcher/styles.js","components/Lightswitcher/Lightswitcher.js","components/Scene/Scene.js","utils/Connector.js","store/index.js","store/Reducer.js","store/AsyncMiddleware.js","styles/global.js","App.js","index.js"],"names":["DataTypes","ActionTypes","baseUrl","RestUrl","GetData","dataType","params","Axios","get","loadData","type","payload","then","response","data","loadLamps","setLamps","setLamp","floor","lamp","lampOn","setSwitcher","loadLampson","GetterDataAPI","props","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","formatted","sunrisesunset","error","console","log","children","title","colors","sky","facade","shine","illumination","frame","useTheme","useState","night","state","setState","getExactTime","timeString","Date","getTheme","time","astronomical_twilight_begin","nautical_twilight_begin","astronomicaldawn","civil_twilight_begin","nauticaldawn","sunrise","civildawn","solar_noon","day","sunset","noon","civil_twilight_end","nautical_twilight_end","civildusk","astronomical_twilight_end","nauticaldusk","timer","num","minutes","getMinutes","newTimer","setMinutes","astronomicaldusk","Container","styled","div","Frame","theme","Illumination","Window","useEffect","lampson","count","total","onClick","Floor","lamps","map","i","key","Building","Sky","Toggle","button","Icon","isOn","SrOnly","span","Lightswitcher","switcher","Scene","setTheme","setInterval","clearInterval","daylamps","partiallamps","nightlamps","getLights","mapDispatchToProps","ListActions","connect","dataStore","Store","createStore","storeData","action","results","newLamps","tmp","Object","assign","forEach","applyMiddleware","next","result","createGlobalStyle","App","store","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd7b0f9a.chunk.js","sourcesContent":["export const DataTypes = {\r\n  SUNRISESUNSET: \"sunrisesunset\",\r\n  LAMPS: \"lamps\",\r\n  LAMPSON: 'lampson'\r\n};\r\n\r\nexport const ActionTypes = {\r\n  DATA_LOAD: \"data_load\",\r\n  LAMPS_LOAD: \"lamps_load\",\r\n  LAMPS_SET: \"lamps_set\",\r\n  LAMP_SET: \"lamp_set\",\r\n  SWITCHER_SET: \"switcher_set\",\r\n  LAMPSON_LOAD: \"lampson_load\"\r\n};\r\n","import Axios from \"axios\";\r\nimport { DataTypes } from \"./Types\";\r\n\r\nconst protocol = \"https\";\r\nconst hostname = \"api.sunrise-sunset.org\";\r\nconst baseUrl = `${protocol}://${hostname}`;\r\n\r\nconst RestUrl = {\r\n  [DataTypes.SUNRISESUNSET]: `${baseUrl}/json`,\r\n};\r\n\r\nexport const GetData = (dataType, params) =>\r\n    Axios.get(RestUrl[dataType], params);","import { GetData } from './RestData';\r\nimport { ActionTypes } from './Types';\r\n\r\nexport const loadData = (dataType, params) => ({\r\n\ttype: ActionTypes.DATA_LOAD,\r\n\tpayload: GetData(dataType, params).then((response) => ({\r\n\t\tdataType,\r\n\t\tdata: response.data\r\n\t}))\r\n});\r\n\r\nexport const loadLamps = (dataType, data) => ({\r\n\ttype: ActionTypes.LAMPS_LOAD,\r\n\tpayload: {\r\n\t\tdataType,\r\n\t\tdata\r\n\t}\r\n});\r\n\r\nexport const setLamps = (data) => ({\r\n\ttype: ActionTypes.LAMPS_SET,\r\n\tpayload: data\r\n});\r\n\r\nexport const setLamp = (floor, lamp, lampOn) => ({\r\n\ttype: ActionTypes.LAMP_SET,\r\n\tpayload: { \r\n\t\tfloor,\r\n\t\tlamp,\r\n\t\tdata: lampOn \r\n\t}\r\n});\r\n\r\nexport const setSwitcher = (data) => ({\r\n\ttype: ActionTypes.SWITCHER_SET,\r\n\tpayload: data\r\n});\r\n\r\nexport const loadLampson = (dataType) => ({\r\n\ttype: ActionTypes.LAMPSON_LOAD,\r\n\tpayload: dataType\r\n});","import { DataTypes } from \"./Types\";\r\n\r\nexport default function GetterDataAPI(props) {\r\n\tconst geoSucess = (position) => {\r\n\t\tconst data = { \r\n\t\t\tparams: { lat: position.coords.latitude, lng: position.coords.longitude, formatted:0 }\r\n\t\t};\r\n\r\n\t\tif (!props.sunrisesunset) {\r\n\t\t\tprops.loadData(DataTypes.SUNRISESUNSET, data);\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst geoError = (error) => console.log(error);\r\n\r\n\tif ('geolocation' in navigator) {\r\n\t\tnavigator.geolocation.getCurrentPosition(geoSucess, geoError);\r\n\t}\r\n\t\r\n\treturn(props.children);\r\n}\r\n","export default {\r\n  title: 'astronomicaldawn',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #20202c 0%, #515175 100%)',\r\n    facade: '#101329',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#00042a'\r\n  },\r\n};","export default {\r\n  title: 'nauticaldawn',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #4a4969 0%, #7072ab 50%, #cd82a0 100%)',\r\n    facade: '#13252e',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#444a4e'\r\n  },\r\n};","export default {\r\n  title: 'civildawn',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #82addb 0%, #ebb2b1 100%)',\r\n    facade: '#13252e',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#444a4e'\r\n  },\r\n};","export default {\r\n  title: 'day',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #b7eaff 0%, #94dfff 100%)',\r\n    facade: '#10678f',\r\n    shine: 'transparent',\r\n    illumination: '#55562b',\r\n    frame: '#fff'\r\n  },\r\n};","export default {\r\n  title: 'noon',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #90dffe 0%, #38a3d1 100%)',\r\n    facade: '#3a738e',\r\n    shine: 'transparent',\r\n    illumination: '#55562b',\r\n    frame: '#fff'\r\n  },\r\n};","export default {\r\n  title: 'night',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #020111 60%, #20202c 100%)',\r\n    facade: '#101329',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#101329'\r\n  },\r\n};","export default {\r\n  title: 'astronomicaldusk',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #090401 50%, #4B1D06 100%)',\r\n    facade: '#101329',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#101329'\r\n  },\r\n};","export default {\r\n  title: 'nauticaldusk',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #071B26 0%, #071B26 30%, #8A3B12 80%, #240E03 100%)',\r\n    facade: '#141629',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#141629'\r\n  },\r\n};","export default {\r\n  title: 'civildusk',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #1e528e 0%, #728a7c 50%, #e9ce5d 100%)',\r\n    facade: '#041d29',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#041d29'\r\n  },\r\n};","export default {\r\n  title: 'sunset',\r\n\r\n  colors: {\r\n    sky: 'linear-gradient(to bottom, #1e528e 0%, #265889 50%, #9da671 100%)',\r\n    facade: '#0d5475',\r\n    shine: '0 10px 20px rgba(242, 237, 11, .6)',\r\n    illumination: '#fce400',\r\n    frame: '#0d5475'\r\n  },\r\n};","import { useState } from \"react\";\r\nimport astronomicaldawn from '../styles/themes/astronomicaldawn';\r\nimport nauticaldawn from '../styles/themes/nauticaldawn';\r\nimport civildawn from '../styles/themes/civildawn';\r\nimport day from '../styles/themes/day';\r\nimport noon from '../styles/themes/noon';\r\nimport night from '../styles/themes/night';\r\nimport astronomicaldusk from '../styles/themes/astronomicaldusk';\r\nimport nauticaldusk from '../styles/themes/nauticaldusk';\r\nimport civildusk from '../styles/themes/civildusk';\r\nimport sunset from '../styles/themes/sunset';\r\n\r\n\r\nexport default function useTheme() {\r\n\tconst [ state, setState ] = useState(night);\r\n\r\n\tconst getExactTime = (timeString) => new Date(timeString);\r\n\r\n\tconst setMinutes = (timer, num) => {\r\n\t\tlet minutes = timer.getMinutes();\r\n\t\tminutes += num;\r\n\t\tconst newTimer = timer.setMinutes(minutes);\r\n\t\treturn new Date(newTimer);\r\n\t}\r\n\r\n\tconst getTheme = (time, props) => {\r\n\t\tif (time < getExactTime(props.astronomical_twilight_begin))\r\n\t\t\treturn night;\r\n\t\telse if (time < getExactTime(props.nautical_twilight_begin))\r\n\t\t\treturn astronomicaldawn;\r\n\t\telse if (time < getExactTime(props.civil_twilight_begin))\r\n\t\t\treturn nauticaldawn;\r\n\t\telse if (time < getExactTime(props.sunrise))\r\n\t\t\treturn civildawn;\r\n\t\telse if (time < getExactTime(props.solar_noon))\r\n\t\t\treturn day;\r\n\t\telse if (time < getExactTime(props.sunset))\r\n\t\t\treturn noon;\r\n\t\telse if (time < getExactTime(props.civil_twilight_end))\r\n\t\t\treturn sunset;\r\n\t\telse if (time < getExactTime(props.nautical_twilight_end))\r\n\t\t\treturn civildusk;\r\n\t\telse if (time < getExactTime(props.astronomical_twilight_end))\r\n\t\t\treturn nauticaldusk;\r\n\t\telse if ( time < setMinutes(getExactTime(props.astronomical_twilight_end), 20) )\r\n\t\t\treturn astronomicaldusk;\r\n\t\telse\r\n\t\t\treturn night;\r\n\t};\r\n\r\n\tconst setTheme = (time, props) => {\r\n\t\tif (props)\r\n\t\t\tsetState(getTheme(time, props))\r\n\t};\r\n\treturn [state, setTheme];\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n\tbackground-color: #414257;\r\n\tdisplay: inline-block;\r\n\theight: 55px;\r\n\tposition: relative;\r\n\twidth: 40px;\r\n`;\r\n\r\nexport const Frame = styled.div`\r\n\tborder: 2px solid;\r\n\tborder-color: ${props => props.theme.colors.frame};\r\n\theight: 100%;\r\n\tleft: 0;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\r\n\t:after, :before {\r\n\t\tcontent: \"\";\r\n\t\tbackground-color: ${props => props.theme.colors.frame};\r\n\t\tposition: absolute;\r\n\t}\r\n\r\n\t:before {\r\n\t\theight: 100%;\r\n\t\tleft: 0;\r\n\t\tmargin: 0 auto;\r\n\t\tright: 0;\r\n\t\twidth: 2px;\r\n\t}\r\n\r\n\t:after {\r\n\t\tbottom: 0;\r\n\t\theight: 2px;\r\n\t\tmargin: auto 0;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n`;\r\n\r\nexport const Illumination = styled.div`\r\n\tbackground-color: ${props => props.theme.colors.illumination};\r\n\tbox-shadow: ${props => props.theme.colors.shine};\r\n\theight: 100%;\r\n\twidth: 100%;\r\n`;","import React, { useEffect } from 'react';\r\nimport { Container, Frame, Illumination } from './styles';\r\nimport { DataTypes } from '../../store/Types';\r\n\r\nexport default function Window(props) {\r\n\tconst { floor, lamp, lampOn } = props;\r\n\r\n\tconst handleLightSwitch = () => {\r\n\t\tprops.setLamp(floor, lamp, !lampOn);\r\n\t\tprops.loadLampson(DataTypes.LAMPSON);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.lampson) {\r\n\t\t\tconst { count, total } = props.lampson;\r\n\t\t\tif (count === total)\r\n\t\t\t\tprops.setSwitcher(true);\r\n\t\t\tif (count === 0)\r\n\t\t\t\tprops.setSwitcher(false);\r\n\t\t}\r\n\t},[props.lampOn])\r\n\r\n\treturn <Container onClick={ handleLightSwitch }>\r\n\t\t{ lampOn && <Illumination />}\r\n\t\t<Frame />\r\n\t</Container>;\r\n}","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n\tbackground-color: ${props => props.theme.colors.facade};\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tmargin: 0 10px;\r\n\tpadding: 20px;\r\n\ttransition: background-color 600ms;\r\n\t\r\n\t& > div {\r\n\t\tflex: 25%;\r\n\t\tmargin: 0 10px;\r\n\r\n\t\t&:first-child {\r\n\t\t\tmargin-left: 0;\r\n\t\t}\r\n\r\n\t\t&:last-child {\r\n\t\t\tmargin-right: 0;\r\n\t\t}\r\n\t}\r\n`;","import React from 'react';\r\nimport Window from '../Window/Window';\r\nimport { Container } from './styles';\r\n\r\nexport default function Floor(props) {\r\n\treturn <Container>\r\n\t\t{props.lamps.map((lamp, i) => <Window key={i} { ...props } lamp={i} lampOn={lamp} />)}\r\n\t</Container>;\r\n}","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tmargin: 0 auto;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\twidth: 275px;\r\n\r\n\t& > div:first-child {\r\n\t\tpadding-top: 50px\r\n\t}\r\n`;","import React from 'react';\r\nimport Floor from '../Floor/Floor';\r\nimport { Container } from './styles';\r\n\r\nexport default function Building(props) {\r\n\tconst lamps = props.lamps || [];\r\n\treturn <Container>\r\n\t\t{lamps.map((lamps, i) => <Floor key={i} { ...props } floor={i} lamps={lamps} />)}\r\n\t</Container>;\r\n}","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n\tbackground: ${props => props.theme.colors.sky};\r\n\theight: 100%;\r\n\tleft: 0;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\tz-index: -1;\r\n`;","import React from 'react';\r\nimport { Container } from './styles';\r\n\r\nexport default function Sky() {\r\n\treturn <Container>\r\n\t\t\r\n\t</Container>;\r\n}","import styled from 'styled-components';\r\n\r\nexport const Toggle = styled.button`\r\n\tbackground-color: rgb(83,87,93);\r\n\tborder: none;\r\n\tborder-radius: 50%;\r\n\tcursor: pointer;\r\n\tpadding: 10px;\r\n\tposition: absolute;\r\n\tright: 20px;\r\n\ttop: 20px;\r\n`;\r\n\r\nexport const Icon = styled.i`\r\n\tdisplay: block;\r\n\theight: 30px;\r\n\tposition: relative;\r\n\twidth: 30px;\r\n\r\n\t&:after, &:before {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t&:before {\r\n\t\tborder: 6px solid;\r\n\t\tborder-color: ${props => props.isOn ? 'white' : 'rgb(37,37,37)'};\r\n\t\tborder-top-color: transparent;\r\n\t\tborder-radius: 50%;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t&:after {\r\n\t\tbackground-color: ${props => props.isOn ? 'white' : 'rgb(37,37,37)'};\r\n\t\theight: 15px;\r\n\t\tleft: 0;\r\n\t\tmargin: 0 auto;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\twidth: 5px;\r\n\t}\r\n`;\r\n\r\nexport const SrOnly = styled.span`\r\n\tborder: 0;\r\n\tclip: rect(0,0,0,0);\r\n\theight: 1px;\r\n\tmargin: 1px;\r\n\toverflow: hidden;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\twhite-space: nowrap;\r\n\twidth: 1px;\r\n`;","import React from 'react';\r\nimport { Toggle, Icon, SrOnly } from './styles';\r\nimport { DataTypes } from '../../store/Types';\r\n\r\nexport default function Lightswitcher(props) {\r\n\tconst handleLightSwitcher = () => {\r\n\t\tconst data = !props.switcher\r\n\t\tprops.setSwitcher(data);\r\n\t\tprops.setLamps(data);\r\n\t\tprops.loadLampson(DataTypes.LAMPSON);\r\n\t}\r\n\r\n\treturn <Toggle type=\"button\" onClick={handleLightSwitcher}>\r\n\t\t<Icon isOn={props.switcher} />\r\n\t\t<SrOnly>Liga/desliga lâmpadas</SrOnly>\r\n\t</Toggle>\r\n}","import React, { useEffect } from \"react\";\r\nimport { ThemeProvider } from 'styled-components';\r\nimport useTheme from '../../utils/useTheme';\r\nimport { DataTypes } from '../../store/Types';\r\n\r\nimport Building from '../Building/Building';\r\nimport Sky from '../Sky/Sky';\r\nimport Lightswitcher from '../Lightswitcher/Lightswitcher';\r\n\r\nexport default function Scene(props) {\r\n\tconst [theme, setTheme] = useTheme();\r\n\tconst getCurrentTime = () => new Date();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst timer = setInterval(() => {\r\n\t\t\tsetTheme(getCurrentTime(), props.sunrisesunset);\r\n\t\t}, 1000);\r\n\t\treturn () => clearInterval(timer);\r\n\t});\r\n\r\n\tconst getLights = () => {\r\n\t\tconst daylamps = [\r\n\t\t\t[false, false, false],\r\n\t\t\t[false, false, false],\r\n\t\t\t[false, false, false],\r\n\t\t\t[false, false, false]\r\n\t\t];\r\n\r\n\t\tconst partiallamps = [\r\n\t\t\t[true, false, false],\r\n\t\t\t[false, false, false],\r\n\t\t\t[false, false, false],\r\n\t\t\t[false, true, true]\r\n\t\t];\r\n\r\n\t\tconst nightlamps = [\r\n\t\t\t[false, false, true],\r\n\t\t\t[true, true, false],\r\n\t\t\t[false, true, false],\r\n\t\t\t[true, true, false]\r\n\t\t];\r\n\r\n\t\tswitch(theme.title) {\r\n\t\t\tcase \"nauticaldawn\":\r\n\t\t\t\treturn partiallamps;\r\n\t\t\tcase \"civildawn\":\r\n\t\t\t\treturn partiallamps;\r\n\t\t\tcase \"day\":\r\n\t\t\t\treturn daylamps;\r\n\t\t\tcase \"noon\":\r\n\t\t\t\treturn daylamps;\r\n\t\t\tcase \"sunset\":\r\n\t\t\t\treturn partiallamps;\r\n\t\t\tcase \"civildusk\":\r\n\t\t\t\treturn partiallamps;\r\n\t\t\tcase \"nauticaldusk\":\r\n\t\t\t\treturn partiallamps;\r\n\t\t\tcase \"astronomicaldusk\":\r\n\t\t\t\treturn nightlamps;\r\n\t\t\tdefault: \r\n\t\t\t\treturn nightlamps; \r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tprops.setSwitcher(false);\r\n\t\tprops.loadLamps(DataTypes.LAMPS, getLights());\r\n\t},[theme]);\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Lightswitcher { ...props } />\r\n\t    \t<Sky />\r\n\t  \t\t<Building \r\n\t\t  \t\tlamps={props.lamps} \r\n\t\t  \t\tlampson={props.lampson} \r\n\t\t  \t\tsetLamp={props.setLamp} \r\n\t\t  \t\tloadLampson={props.loadLampson} \r\n\t\t  \t\tsetSwitcher={props.setSwitcher} />\r\n\t\t</ThemeProvider>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as ListActions from '../store/ActionCreators';\r\n\r\nimport GetterDataAPI from '../store/GetterDataAPI';\r\nimport Scene from '../components/Scene/Scene';\r\n\r\nfunction Connector(props) {\r\n\treturn (\r\n\t\t<GetterDataAPI { ...props }>\r\n    \t\t<Scene { ...props } />\r\n    \t</GetterDataAPI>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (dataStore) => ({\r\n\t...dataStore\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\t...ListActions\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Connector);","import { createStore, applyMiddleware } from \"redux\";\r\nimport { StoreReducer } from \"./Reducer\";\r\nimport { asyncActions } from \"./AsyncMiddleware\";\r\n\r\nexport const Store = createStore(StoreReducer, applyMiddleware(asyncActions));\r\n","import { ActionTypes } from './Types';\r\n\r\nexport const StoreReducer = (storeData, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypes.DATA_LOAD:\r\n\t\t\treturn {\r\n\t\t\t\t...storeData,\r\n\t\t\t\t[action.payload.dataType]: action.payload.data.results\r\n\t\t\t};\r\n\t\tcase ActionTypes.LAMPS_LOAD:\r\n\t\t\treturn {\r\n\t\t\t\t...storeData,\r\n\t\t\t\t[action.payload.dataType]: action.payload.data\r\n\t\t\t};\r\n\t\tcase ActionTypes.LAMPS_SET:\r\n\t\t\tconst newLamps = storeData.lamps.map((floor) => floor.map((lamp) => action.payload));\r\n\t\t\treturn { ...storeData, lamps: newLamps };\r\n\t\tcase ActionTypes.LAMP_SET:\r\n\t\t\tconst { floor, lamp, data } = action.payload;\r\n\t\t\tconst tmp = Object.assign([], storeData.lamps);\r\n\t\t\ttmp.[floor][lamp] = data;\r\n\t\t\treturn { ...storeData, lamps: tmp };\r\n\t\tcase ActionTypes.SWITCHER_SET:\r\n\t\t\treturn { ...storeData, switcher: action.payload };\r\n\t\tcase ActionTypes.LAMPSON_LOAD:\r\n\t\t\tlet count = 0, total = 0;\r\n\t\t\tstoreData.lamps.forEach((floor) => floor.forEach((lamp) => {\r\n\t\t\t\tif (lamp) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\ttotal++;\r\n\t\t\t}));\r\n\t\t\treturn { \r\n\t\t\t\t...storeData, \r\n\t\t\t\t[action.payload]: { count, total } \r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn storeData || {};\r\n\t}\r\n}","const isPromise = payload =>\r\n  (typeof payload === \"object\" || typeof payload === \"function\") &&\r\n  typeof payload.then === \"function\";\r\n\r\nexport const asyncActions = () => next => action => {\r\n  if (isPromise(action.payload)) {\r\n    action.payload.then(result => next({ ...action, payload: result }));\r\n  } else {\r\n    next(action);\r\n  }\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport default createGlobalStyle`\r\n  *,\r\n  *:after,\r\n  *:before {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: none !important;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  html, body, #root {\r\n    height: 100%;\r\n  }\r\n`;\r\n","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport Connector from './utils/Connector';\nimport { Store } from './store/index';\nimport GlobalStyle  from './styles/global';\n\nexport default function App() {\n\treturn (\n\t\t<Provider store={Store}>\n\t\t\t<GlobalStyle />\n\t\t\t<Connector />\n\t\t</Provider>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}